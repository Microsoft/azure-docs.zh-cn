---
title: 清理缺失数据：模块参考
titleSuffix: Azure Machine Learning service
description: 了解如何在 Azure 机器学习服务中使用清理缺失数据模块来删除、 替换或推断缺失值。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: de81204219a102734f1820258a3c32e59a64c685
ms.sourcegitcommit: 4b9c06dad94dfb3a103feb2ee0da5a6202c910cc
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/02/2019
ms.locfileid: "65028780"
---
# <a name="clean-missing-data-module"></a>清理缺失数据模块

本指南介绍了 Azure 机器学习服务的可视界面 （预览版） 的模块。

使用此模块可以删除、 替换或推断缺失值。 

数据科学家经常检查缺少的值的数据，然后执行各种操作来修复数据或者插入新值。 这种清洗操作的目标是防止由训练模型时，可能会出现的缺少数据导致的问题。 

此模块支持操作的"清除"缺失值，包括多个的类型：

+ 缺失值替换占位符、 平均值或其他值
+ 完全删除具有缺失值的行和列
+ 推断值基于统计方法


使用此模块不会更改源数据集。 相反，它将在你可以在后续工作流中使用的工作区创建新的数据集。 此外可以保存新已清理的数据集以供重复使用。

此模块还会输出用来清理缺失值的转换的定义。 通过使用具有相同的架构，其他数据集上重复使用此转换[应用转换](./apply-transformation.md)模块。  

## <a name="how-to-use-clean-missing-data"></a>如何使用清理缺失数据

此模块可以定义清理操作。 此外可以保存清理操作，以便可以将其更高版本应用于新数据。 请参阅以下链接，了解如何创建和保存清除过程的说明： 
 
+ 若要替换缺失值
  
+ 若要将清理转换应用于新数据
 
> [!IMPORTANT]
> 用于处理缺失值清理方法可以极大地影响您的结果。 我们建议试验不同的方法。 请考虑使用这两个对齐的特定方法和结果的质量。

### <a name="replace-missing-values"></a>替换缺失值  

您将应用每次[清理缺失数据](./clean-missing-data.md)模块添加到一组数据，相同的清理操作应用于您选择的所有列。 因此，如果你需要清除使用不同的方法的不同列，则使用该模块的单独实例。

1.  添加[清理缺失数据](./clean-missing-data.md)模块在试验中，并连接数据集包含缺失值。  
  
2.  有关**要清理的列**，选择包含你想要更改的缺失值的列。 可以选择多个列，但必须在所有所选列中使用相同的替换方法。 因此，您通常需要单独清理字符串列和数字列。

    例如，若要检查的所有数值列中的缺失值：

    1. 打开列选择器，并选择**与规则**。
    2. 有关**开头**，选择**无列**。

        可以还开始使用的所有列，然后排除列。 最初，规则不会显示是否首先单击**的所有列**，但你可以单击**无列**，然后单击**的所有列**再次以开头的所有列，然后进行筛选out （不包括） 列的名称，基于数据类型或列索引。

    3. 有关**Include**，选择**列类型**从下拉列表中，然后选择**数值**，或更具体的数值类型。 
  
    您选择的任何清除或替换方法必须是适用于**所有**选定内容中的列。 如果任何列中的数据与指定的操作不兼容，该模块将返回错误并停止实验。
  
3.  有关**最小缺失值比率**，指定要执行的操作所需的缺失值的最小数目。  
  
    结合使用此选项**最大缺失值比率**以定义的数据集执行清理操作所基于的条件。 如果有太多或太少缺少值的行，则无法执行该操作。 
  
    输入的数字表示**比率**的列中的所有值的缺失值。 默认情况下**最小缺失值比率**属性设置为 0。 这意味着即使只有一个缺失值清理缺失值。 

    > [!WARNING]
    > 按顺序为指定的操作要应用的每个列，必须满足此条件。 例如，假定选择了三个列，然后将最小缺失值比率设置为.2 （20%)，但只能将一个列实际上有 20%。 在这种情况下，清除操作将仅适用于列缺少值超过 20%。 因此，其他列将保持不变。
    > 
    > 如果有任何疑问缺少的值是否已更改，选择该选项，**生成缺失值指示器列**。 某一列附加到数据集来指示每个列满足指定的最小值和最大范围的条件。  
  
4. 有关**最大缺失值比率**，指定可用于要执行的操作的缺失值的最大数目。   
  
    例如，可能想要执行缺失值替代，仅当 30%或更少的行包含缺失值，但保留为值-是有缺失值 30%以上的行。  
  
    为列中的所有值的缺失值比率定义数。 默认情况下**最大缺失值比率**设置为 1。 这意味着即使 100%的列中的值缺失，清理缺失值。  
  
   
  
5. 有关**清理模式**，请选择替换为以下选项之一或删除缺失值：  
  
  
    + **自定义替换值**:此选项用于指定适用于所有缺失值的占位符值 （如 0 或 NA）。 替换指定的值必须与列的数据类型兼容。
  
    + **替换为平均值**:计算列平均值，并将作为替换值的列中每个缺失值的平均值。  
  
        仅适用于具有整数、 双精度型、 列或布尔数据类型。  
  
    + **替换为中间值**:计算列中间值，并使用中的值作为替换列中的缺失值。  
  
        仅适用于具有整数或双精度数据类型的列。 
  
    + **替换为模式**:计算列的模式和使用模式作为替换值的列中每个缺失值。  
  
        适用于具有 Integer、 Double、 布尔值或分类的数据类型的列。 
  
    + **删除整行**:完全包含一个或多个缺失值在数据集中删除任何行。 这是缺少的值可被视为随机缺少的情况下很有用。  
  
    + **删除整列**:完全包含一个或多个缺失值在数据集中删除任何列。  
  
    
  
6. 选项**替换值**如果你选择了选项，则会提供**自定义替换值**。 键入新值用作列中的所有缺失值替换值。  
  
    请注意，可以使用此选项仅在具有整数、 双精度型、 布尔值或日期数据类型的列中。 对于日期列替换值也可以输入为 100 毫微秒数自 0001 年 1 月 1 日中午 12:00  
  
7. **生成缺失值指示器列**:如果你想要输出的列中的值是否满足的条件进行缺失值清理提示，请选择此选项。 正在设置新的清理操作，并且想要确保它按设计方式工作时，此选项是特别有用。
  
8. 运行试验。

### <a name="results"></a>结果

该模块返回两个输出：  

-   **已清理的数据集**:包含所选的列包含缺失值的数据集处理指定的以及一个指示器列，如果选择该选项。  

    未选择要清理的列都被还"传递"。  
  
-  **清理转换**:数据转换 ノ 睲瞶可以保存在你的工作区和更高版本应用于新数据。

### <a name="apply-a-saved-cleaning-operation-to-new-data"></a>应用于新数据的已保存的清理操作  

如果需要经常重复执行清理操作，我们建议您保存为数据清理作为你方案*转换*，若要重用与同一数据集。 如果必须频繁地重新导入，然后使用 clean 具有相同的架构的数据，保存清洗转换是特别有用。  
      
1.  添加[应用转换](./apply-transformation.md)模块在试验。  
  
2.  添加你想要清理的数据集并将数据集连接到右侧输入端口。  
  
3.  展开**转换**组界面的左侧窗格中。 找到的已保存的转换并将其拖到实验中。  
  
4.  将已保存的转换连接到的左侧输入端口[应用转换](./apply-transformation.md)。 

    当应用以前保存的转换时，不能选择转换应用到的列。 这是因为转换已定义，并自动应用于原始操作中指定的列。

    但是，假设您创建一个转换数值列的子集。 您可以将此转换应用到混合的列类型的数据集并且不会引发错误，因为缺少的值更改仅在匹配的数值列中。

6.  运行试验。  

## <a name="next-steps"></a>后续步骤

请参阅[可用的模块集](module-reference.md)到 Azure 机器学习服务。 