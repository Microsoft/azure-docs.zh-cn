---
title: 通过无线更新 Azure Percept 深色
description: 了解如何通过 Azure Percept 深色接收无线更新
author: mimcco
ms.author: mimcco
ms.service: azure-percept
ms.topic: how-to
ms.date: 02/18/2021
ms.custom: template-how-to
ms.openlocfilehash: aa8f696b6a26e812256be4e93975844f2c721b6e
ms.sourcegitcommit: b4647f06c0953435af3cb24baaf6d15a5a761a9c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/02/2021
ms.locfileid: "101661876"
---
# <a name="update-your-azure-percept-dk-over-the-air"></a>通过无线更新 Azure Percept 深色

遵循本指南了解如何通过适用于 IoT 中心的设备更新更新 Azure Percept 深色的电信运营商。

## <a name="import-your-update-file-and-manifest-file"></a>导入更新文件和清单文件。

> [!NOTE]
> 如果已导入更新，则可以直接跳到 **创建设备更新组**。

1. 导航到 azure Percept 设备所使用的 Azure IoT 中心。 在左侧菜单面板中，选择 "**自动设备管理**" 下的 "**设备更新**"。
 
1. 屏幕顶部将显示几个选项卡。 选择 " **更新** " 选项卡。
 
1. 在 "**准备部署**" 标头下方选择 " **+ 导入新更新**"。
 
1. 单击 " **选择导入清单文件** " 下的框， **选择 "更新文件** " 以选择相应的清单文件 () 和一个更新文件 ( swu) 。 可在 [此处](https://go.microsoft.com/fwlink/?linkid=2155625)找到 Azure Percept 设备的这些更新文件。
 
1. 选择 " **选择存储容器**" 下的文件夹图标或文本框，然后选择相应的存储帐户。
 
1. 如果已创建存储容器，则可以重复使用它。 否则，请选择 " **+ 容器** "，为 OTA 更新创建新的存储容器。 选择要使用的容器，然后单击 " **选择**"。
 
    >[!Note]
    >如果没有容器，系统会要求你创建一个。
 
1. 选择 " **提交** " 以启动导入过程。 提交过程大约需要4分钟。
 
    >[!Note]
    >系统可能会要求添加一个跨源请求 (CORS) 规则来访问所选存储容器。 选择 " **添加规则"，然后重试** 。
 
    >[!Note]
    >由于图像大小，你可能会看到 "正在提交" 页面 **...** 最多5分钟后查看下一步。
    
1. 导入过程开始，你会被重定向到 "**设备更新**" 页的 "**导入历史记录**" 选项卡。 单击 " **刷新** " 可在导入过程完成时监视进度。 这可能需要几分钟或更长的时间，具体取决于更新的大小，1hr) 的导入服务需要花费几分钟或更 (长时间。

1. 当 "状态" 列指示导入已成功时，选择 " **准备部署** " 选项卡，然后单击 " **刷新**"。 你现在应会在列表中看到导入的更新。
 
## <a name="create-a-device-update-group"></a>创建设备更新组
通过用于 IoT 中心的设备更新，你可以将更新定位到特定组的 Azure Percept DKs。 若要创建组，必须在 Azure IoT 中心内的目标设备集内添加标记。

> [!NOTE]
> 如果你已经创建了一个组，则可以直接跳到下一步。

组标记要求：
- 你可以向标记添加任何值，但未 **分类**，这是一个保留值。
- 标记值不能超过255个字符。
- 标记值只能包含以下特殊字符： "."、"-"、"_"、"~"。
- 标记和组名称区分大小写。
- 一个设备只能有一个标记。 添加到设备中的任何后续标记将替代上一个标记。
- 一个设备只能属于一个组。

1. 将标记添加到设备 () 。
    1. 从左侧导航窗格中 **IoT Edge** ，找到 AZURE Percept 深色并导航到其 **设备**。
    1. 为 IoT 中心标记值添加新 **的设备更新** ，如下所示 (更改 ```<CustomTagValue>``` 为你的值，例如 AzurePerceptGroup1) 。 详细了解设备克隆 [JSON 文档标记](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-device-twins#device-twins)。

    ```
    "tags": {
    "ADUGroup": "<CustomTagValue>"
    },
    ```

 
1. 单击 " **保存** " 并解决任何格式问题。
 
1. 通过选择现有的 Azure IoT 中心标记来创建组。
    1. 导航回到 Azure IoT 中心页。
    1. 在左侧菜单面板上选择 "**自动设备管理**" 下的 "**设备更新**"。
    1. 选择 " **组** " 选项卡。此页将显示连接到设备更新的未分组设备数。
    1. 选择 " **+ 添加** " 以创建新组。
    1. 从列表中选择 IoT 中心标记，并单击 " **提交**"。
    1. 创建组后，将更新 "更新符合性图表和组" 列表。 此图显示了处于各种符合性状态的设备数： **最新更新**、可用的 **新更新**、 **正在进行的更新** 以及 **尚未分组**。
 

## <a name="deploy-an-update"></a>部署更新
1. 你应该会看到新创建的组，其中包含在 " **可用更新** " 下列出的新更新 (可能需要在) 时刷新一次。 选择更新。
 
1. 确认选择了正确的设备组作为目标设备组。 为部署选择 "开始 **日期** " 和 " **开始时间** "，然后单击 " **创建部署**"。 

    >[!CAUTION]
    >将开始时间设置为过去将立即触发部署。
 
1. 检查符合性图表。 此时会看到更新正在进行。
 
1. 完成更新后，符合性图表将反映新的更新状态。
 
1. 选择 "**设备更新**" 页顶部的 "**部署**" 选项卡。
 
1. 选择部署以查看部署详细信息。 在 **状态** 更改为 "**成功**" 之前，你可能需要单击 "**刷新**"。

## <a name="next-steps"></a>后续步骤

开发工具包现在已成功更新。 你可以继续通过 devkit 进行开发和操作。